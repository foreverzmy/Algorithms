# 算法复杂度

算法的时间复杂度和空间复杂度合称为算法的复杂度。

## 时间复杂度

### 1、时间频度

一个算法执行所耗费的时间，从理论上是不能被算出来的，必须时间运行过才能知道。但其实没有必要对每个算法都上机测试，只要粗略的知道哪个算法花费的时间多，哪个算法花费的时间少就可以了。并且一个算法花费的时间与算法中语句执行的次数是成正比的，哪个算法中语句执行的次数多，它花费的时间就多。一个算法中的语句执行次数称为语句频度或时间频度，记为 T(n)。

### 2、时间复杂度

在时间频度中，n 称为问题的规模，当 n 不断变化时，时间频度 n 也会不断变化。但有时我们想知道它变化时呈现什么规律。为此，我们引入时间复杂度概念。一般情况下，算法中基本操作重复执行的次数是问题规模 n 的某个函数，用 T(n) 表示，若有某个辅助函数 f(n)，使得当 n 趋近无穷大时，T(n)/f(n) 的极限值为不等于零的常数，则称 f(n) 是 T(n) 的同数量级函数。记做 T(n) = O(f(n))，称为 O(f(n)) 为算法的渐进时间复杂度，简称时间复杂度。

时间频度不同，但时间复杂度可能相同。如：T(n)=n<sup>2</sup>+3n+4 与 T(n)=4n<sup>2</sup>+2n+1 的时间频度不同，但时间复杂度都相同，都为 O(n<sup>2</sup>)。

按照数量级递增排列，常见的时间复杂度有：常数阶 **O(1)**，对数阶 **O(log n)**，线性阶级 **O(n)**，线性对数阶 **O(n log n)**，平方阶级 **O(n<sup>2</sup>)**，立方阶 **O(n<sup>3</sup>)**，……，k 次方阶 **O(n<sup>k</sup>)**，指数阶 **O(2<sup>n</sup>)**。随着问题规模 n 的不断增大，上述时间复杂度不断增大，算法的执行效率越低。可以运行根目录下的 [complexity.py](./complexity.py) 程序来查看对比。

### 3、最坏时间复杂度和平均时间复杂度

最坏情况下的时间复杂度称最坏时间复杂度。一般不特别说明，讨论的时间复杂度均是最坏情况下的时间复杂度。 这样做的原因是：最坏情况下的时间复杂度是算法在任何输入实例上运行时间的上界，这就保证了算法的运行时间不会比任何更长。

在最坏情况下的时间复杂度为 T(n)=O(n)，它表示对于任何输入实例,该算法的运行时间不可能大于 O(n)。 平均时间复杂度是指所有可能的输入实例均以等概率出现的情况下，算法的期望运行时间。

### 4、求时间复杂度

1. 如果算法的执行时间不随着问题的规模 n 的增加而增长，即使算法中有上千条语句，其执行时间也不过是一个较大的常数。此类的算法的时间复杂度是 O(1)。

2. 当有若干个循环语句时，算法的时间复杂度是由嵌套层数最多的循环语句中最内层语句的频度 f(n) 决定的。

3. 算法的时间复杂度不仅仅依赖于问题的规模，还与输入实例的初始状态有关。

### 5、时间复杂度评价性能

有两个算法 A1 和 A2 求解同一问题，时间复杂度分别是 T1(n)=100n<sup>2</sup>，T2(n)=5n<sup>3</sup>。

1. 当输入量 n ＜ 20 时，有 T1(n)＞ T2(n)，后者花费的时间较少。

2. 随着问题规模 n 的增大，两个算法的时间开销之比 5n<sup>3</sup>/100n<sup>2</sup>=n/20 亦随着增大。即当问题规模较大时，算法 A1 比算法 A2 要有效地多。

它们的渐近时间复杂度 O(n<sup>2</sup>) 和 O(n<sup>3</sup>) 从宏观上评价了这两个算法在时间方面的质量。在算法分析时，往往对算法的时间复杂度和渐近时间复杂度不予区分，而经常是将渐近时间复杂度 T(n)=O(f(n)) 简称为时间复杂度，其中的 f(n) 一般是算法中频度最大的语句频度。

## 空间复杂度

一个程序的空间复杂度是指运行完一个程序所需内存的大小。利用程序的空间复杂度，可以对程序的运行所需要的内存多少有个预先估计。

一个程序执行时除了需要存储空间和存储本身所使用的指令、常数、变量和输入数据外，还需要一些对数据进行操作的工作单元和存储一些为现实计算所需信息的辅助空间。程序执行时所需存储空间包括以下两部分：

1. 固定部分。这部分空间的大小与输入/输出的数据的个数多少、数值无关。主要包括指令空间（即代码空间）、数据空间（常量、简单变量）等所占的空间。这部分属于静态空间。

2. 可变空间，这部分空间的主要包括动态分配的空间，以及递归栈所需的空间等。这部分的空间大小与算法有关。

一个算法所需的存储空间用 f(n) 表示。S(n)=O(f(n))。其中 n 为问题的规模，S(n) 表示空间复杂度。
